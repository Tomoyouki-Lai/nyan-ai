{
  "addedTimestamp": 1754450000000,
  "currentUsage": 0,
  "usageLimit": 100,
  "generationCost": 0,
  "rewardPerSuccessfulUse": 100,
  "icon": "ğŸ›’",
  "title": "è¦çš®å•†å“æœå°‹ (æ•™å­¸)",
  "type": "missionPrompt",
  "description": "é€™æ˜¯ä¸€å¼µæ•™å­¸å¡ç‰‡ï¼Œå°‡æœƒå¼•å°æ‚¨å¦‚ä½•è®“å–µå–µè·¨é é¢å¹«æ‚¨åœ¨è¦çš®ä¸Šæœå°‹å•†å“ï¼",
  "cardMetadata": {
    "author": "Nyan AI Team & AI Assistant",
    "version": "1.0.0-tutorial"
  },
  "errorHandling": {
    "default": "FINAL_UNSPECIFIED_ERROR"
  },
  "initialParams": [
    {
      "key": "targetUrl",
      "value": "https://shopee.tw/"
    },
    {
      "key": "defaultProductSuggestion",
      "value": "iPhone 16"
    },
    {
      "key": "searchInputSelectorHint",
      "value": "input.shopee-searchbar-input__input"
    },
    {
      "key": "searchResultPageIdentifier",
      "value": "div.shopee-search-item-result__items"
    },
    {
      "key": "searchButtonSelectorHint",
      "value": "button.shopee-searchbar__search-button"
    }
  ],
  "steps": [
    {
      "id": "STEP_0_INFORM_USER_PLAN",
      "name": "å‘ŠçŸ¥ä½¿ç”¨è€…è¨ˆç•«",
      "type": "userInput",
      "prompt": "å–µ~ æˆ‘æº–å‚™è¦å¸¶æ‚¨å»è¦çš®è³¼ç‰©å›‰ï¼æˆ‘æœƒå…ˆå¹«æ‚¨æ‰“é–‹è¦çš®ç¶²ç«™ï¼Œä¹‹å¾Œè«‹æ‚¨åˆ°æ–°çš„åˆ†é ï¼Œé»æ“Šç€è¦½å™¨å³ä¸Šè§’çš„è²“çˆªåœ–ç¤ºï¼ŒæŠŠé–‹é—œæ‰“é–‹ä¾†å¬å–šæˆ‘ï¼Œæˆ‘å€‘å°±èƒ½ç¹¼çºŒæœå°‹å•†å“äº†ï¼å°äº†ï¼Œä½ è¦å…ˆç™»å…¥è¦çš®ç¶²ç«™æˆ‘æ‰èƒ½å¹«ä½ å–”ï¼",
      "choices": [
        { "text": "æˆ‘æ˜ç™½äº†ï¼Œå‡ºç™¼å§ï¼", "actionValue": "go" },
        { "text": "å…ˆä¸è¦", "actionValue": "cancel" }
      ],
      "storeResultAs": "planConfirmation",
      "onSuccess": "STEP_1_EVALUATE_PLAN_CONFIRMATION"
    },
    {
      "id": "STEP_1_EVALUATE_PLAN_CONFIRMATION",
      "name": "è©•ä¼°è¨ˆç•«ç¢ºèª",
      "type": "conditionalBranch",
      "conditionKey": "planConfirmation",
      "conditionValue": "go",
      "ifTrue": "STEP_2_OPEN_SHOPEE_IN_NEW_TAB",
      "ifFalse": "FINAL_USER_CANCELLED_AT_START"
    },
    {
      "id": "STEP_2_OPEN_SHOPEE_IN_NEW_TAB",
      "name": "æ‰“é–‹è¦çš®åœ¨æ–°åˆ†é ",
      "type": "domAction",
      "action": "open_new_tab",
      "statusMessage": "å¥½çš„å–µï¼æ­£åœ¨ç‚ºæ‚¨æ‰“é–‹è¦çš®è³¼ç‰©...",
      "params": { "url": "{{targetUrl}}" },
      "onSuccess": "STEP_3_SET_PENDING_MISSION",
      "onFailure": "FINAL_NAVIGATION_FAILED"
    },
    {
      "id": "STEP_3_SET_PENDING_MISSION",
      "name": "è¨­å®šå¾…è¾¦ä»»å‹™ä»¥ä¾›äº¤æ¥",
      "type": "updateUserData",
      "action": "setPendingMission",
      "params": { 
        "nextStepId": "STEP_4_RESTORE_AND_ASK_QUERY"
      },
      "onSuccess": "FINAL_HANDOVER_PROMPT"
    },
    {
      "id": "FINAL_HANDOVER_PROMPT",
      "name": "é¡¯ç¤ºäº¤æ¥æç¤ºä¸¦çµæŸç¬¬ä¸€éšæ®µ",
      "type": "final",
      "isErrorState": false,
      "message": "å¥½å›‰ï¼Œè¦çš®é é¢å·²ç¶“æ‰“é–‹ï¼æˆ‘åœ¨æ–°é é¢ç­‰æ‚¨å¬å–šå–”ï½"
    },
    {
      "id": "STEP_4_RESTORE_AND_ASK_QUERY",
      "name": "æ¢å¾©ä»»å‹™ä¸¦è©¢å•æœå°‹é—œéµå­—",
      "type": "userInput",
      "statusMessage": "å–µï¼æˆ‘å›ä¾†äº†ï¼",
      "prompt": "æˆ‘å€‘æˆåŠŸæŠµé”è¦çš®äº†ï¼è«‹å•æ‚¨æƒ³æ‰¾ä»€éº¼å•†å“å‘¢ï¼Ÿï¼ˆä¾‹å¦‚ï¼š{{defaultProductSuggestion}}ï¼‰",
      "inputType": "text",
      "storeResultAs": "searchQuery",
      "onSuccess": "STEP_5_WAIT_FOR_SEARCHBAR",
      "onFailure": "FINAL_USER_CANCELLED_AFTER_RESTORE"
    },
    {
      "id": "STEP_5_WAIT_FOR_SEARCHBAR",
      "name": "ç­‰å¾…æœå°‹æ¡†è¼‰å…¥",
      "type": "domPoll",
      "statusMessage": "æ”¶åˆ°ï¼æ­£åœ¨å°‹æ‰¾æœå°‹æ¡†...",
      "params": {
        "condition": { "type": "element_exists" },
        "selectorHint": "{{searchInputSelectorHint}}",
        "timeoutMs": 15000
      },
      "storeResultAs": "searchBarInfo",
      "onSuccess": "STEP_6_TYPE_QUERY",
      "onFailure": "FINAL_SEARCH_BAR_NOT_FOUND"
    },
    {
      "id": "STEP_6_TYPE_QUERY",
      "name": "è¼¸å…¥æœå°‹é—œéµå­—",
      "type": "domAction",
      "action": "type_text",
      "statusMessage": "æ­£åœ¨è¼¸å…¥ã€Œ{{searchQuery}}ã€...",
      "params": {
        "selector": "{{searchBarInfo.elementInfo.selectorGenerated}}",
        "textToType": "{{searchQuery}}",
        "overwrite": true
      },
      "onSuccess": "STEP_7_CLICK_SEARCH",
      "onFailure": "FINAL_INPUT_FAILED"
    },
    {
      "id": "STEP_7_CLICK_SEARCH",
      "name": "é»æ“Šæœå°‹æŒ‰éˆ•",
      "type": "domAction",
      "action": "click_selector",
      "params": {
        "selector": "{{searchButtonSelectorHint}}"
      },
      "onSuccess": "STEP_8_WAIT_FOR_RESULTS_PAGE",
      "onFailure": "FINAL_SEARCH_BUTTON_NOT_FOUND"
    },
    {
      "id": "STEP_8_WAIT_FOR_RESULTS_PAGE",
      "name": "ç­‰å¾…æœå°‹çµæœé é¢è¼‰å…¥",
      "type": "domPoll",
      "statusMessage": "æ­£åœ¨ç­‰å¾…æœå°‹çµæœ...",
      "params": {
        "condition": { "type": "element_exists" },
        "selectorHint": "{{searchResultPageIdentifier}}",
        "timeoutMs": 20000
      },
      "onSuccess": "FINAL_MISSION_SUCCESS",
      "onFailure": "FINAL_SEARCH_RESULTS_NOT_FOUND"
    },
    {
      "id": "FINAL_MISSION_SUCCESS",
      "type": "final",
      "isErrorState": false,
      "message": "æœå°‹å®Œæˆï¼ã€Œ{{searchQuery}}ã€çš„çµæœå·²ç¶“ç‚ºæ‚¨å‘ˆç¾å›‰ï¼å®Œæˆä»»å‹™çå‹µ {{rewardPerSuccessfulUse}} ç“¶å–µåŠ›è—¥æ°´ï¼"
    },
    {
      "id": "FINAL_USER_CANCELLED_AT_START",
      "type": "final",
      "isErrorState": false,
      "message": "å¥½çš„å–µï¼Œé‚£ä¸‹æ¬¡æœ‰éœ€è¦å†æ‰¾æˆ‘å›‰ã€‚"
    },
    {
      "id": "FINAL_USER_CANCELLED_AFTER_RESTORE",
      "type": "final",
      "isErrorState": true,
      "message": "å¥½çš„ï¼Œä»»å‹™å·²å–æ¶ˆã€‚å¦‚æœæ‚¨éœ€è¦å…¶ä»–å¹«å¿™ï¼Œéš¨æ™‚å¯ä»¥å‘Šè¨´æˆ‘ï¼"
    },
    {
      "id": "FINAL_NAVIGATION_FAILED",
      "type": "final",
      "isErrorState": true,
      "message": "å–µå—š...æˆ‘å¥½åƒè¿·è·¯äº†ï¼Œæ‰¾ä¸åˆ°è¦çš®ç¶²ç«™è€¶ã€‚"
    },
    {
      "id": "FINAL_SEARCH_BAR_NOT_FOUND",
      "type": "final",
      "isErrorState": true,
      "message": "å¥‡æ€ªäº†...æˆ‘åœ¨è¦çš®é é¢ä¸Šæ‰¾ä¸åˆ°æœå°‹æ¡†è€¶ï¼Œä»–å€‘æ˜¯ä¸æ˜¯æ”¹ç‰ˆäº†ï¼Ÿ"
    },
    {
      "id": "FINAL_INPUT_FAILED",
      "type": "final",
      "isErrorState": true,
      "message": "å–µå—š...æˆ‘å˜—è©¦è¼¸å…¥æ–‡å­—æ™‚å¤±æ•—äº†ã€‚"
    },
    {
      "id": "FINAL_SEARCH_BUTTON_NOT_FOUND",
      "type": "final",
      "isErrorState": true,
      "message": "æˆ‘æ‰¾ä¸åˆ°æœå°‹æŒ‰éˆ•å¯ä»¥æŒ‰è€¶..."
    },
    {
      "id": "FINAL_SEARCH_RESULTS_NOT_FOUND",
      "type": "final",
      "isErrorState": true,
      "message": "å–µå—š...é€å‡ºæœå°‹å¾Œï¼Œç­‰äº†å¾ˆä¹…éƒ½æ²’æœ‰çœ‹åˆ°çµæœé é¢è€¶ã€‚"
    },
    {
      "id": "FINAL_UNSPECIFIED_ERROR",
      "type": "final",
      "isErrorState": true,
      "message": "å–µå—š...ä»»å‹™ä¸­ç™¼ç”Ÿäº†ä¸€å€‹æœªçŸ¥çš„éŒ¯èª¤ã€‚"
    }
  ]
}